<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- documentation at http://getbootstrap.com/docs/4.1/, alternative themes at https://bootswatch.com/ -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
        <title>
            Summ-Up
        </title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css')}}" />

    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-custom collapse.show" style="margin-bottom:5vh;height:80px;">
            <div class="container-fluid">
                <a class="navbar-brand" style="width:10vw;"href="/">
                <img src="../static/transparent-white.png" alt="Logo" width="250px" height="64px" class="d-inline-block align-text-top">
                </a>
            </div>
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto mt-2">
                        <li class="nav-item">
                            <a class="nav-link" style="font-size: 20px;padding-left:25px;padding-right:25px;color: white;" aria-current="page" href="#">Extension</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" style="font-size: 20px;padding-left:25px;padding-right:25px;color: white;align-content: flex-end;" href="#">Features</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav> 
        <table style="margin: auto; width: 55vw;align-content: center">
            <tr style="margin: auto; align-self: center">
                <td style="align-self: center;"><img id="youtube" onclick=onYoutubeClick() src="../static/1.png" style=" position: relative; height: 100px; width: 233px; border-radius: 10px"></td>
                <td style="align-self: center;"><img id="article" onclick=onArticleClick() src="../static/2.png" style=" position: relative; height: 100px; width: 233px;border-radius: 10px"></td>
                <td style="align-self: center;"><img id="local_file" onclick=onLocalClick() src="../static/3.png" style=" position: relative; height: 100px; width: 233px;border-radius: 10px"></td>
            </tr>
        </table>
        
        
        <form class="popup" method="post" action="/inp_summarization">
          <div class="close-btn">&times;</div>
          <div class="form">
            <h2 id = "customText"></h2>
            <div class="form-element">
                <input type="text" id="myLink" name = "myValue" placeholder="URL">
            </div>
            <div class="form-element">
              <button class="form-submit-button" type="submit">Submit</button> 
<!--                add code/variable to copy the value of link to var-->
            </div>
            </div>
          </form>
                
        <h5>OR</h5>
        <table>
            <tr>
                <td>
                    <form method="post", action="/inp_summarization">
                        <textarea style="margin-left:12vw;height:48vh;width:35vw;" placeholder="Enter Your Text Here." name="input-text">{{input}}</textarea>
                        <div style="text-align: right;padding-top: 0.5vh;">
                            <button type="submit" class="form-submit-button" style="width:fit-content;">Summarize</button>
                        </div>
                    </form>
                </td>
                <td>
                    <form method="" >
                    <textarea id="p1" placeholder="Summarized Text." style="margin-left: 5vw;height:48vh;width: 35vw;">{{summary}}</textarea>
                        <div style="text-align: right;padding-top: 0.5vh;">
                            <button type="button" id="copy" class="form-submit-button" style="width:fit-content;" onclick="copyText()">Copy</button>
                            <button type="submit" id="download" class="form-submit-button" style="width:fit-content;padding-top: 0.5vh;" onclick="download('#p1')">Download</button>
                        </div>
                    </form>
                </td>
            </tr>
<!--
            <tr>
                <td>
                    <div style="text-align: right;padding-top: 0.5vh;">
                    <button type="button" class="form-submit-button" style="width:fit-content;">Summarize</button>
                    </div>
                </td>
                <td>
                    <div style="text-align: right;padding-top: 0.5vh;">
                    <button type="button" id="copy" class="form-submit-button" style="width:fit-content;" onclick="copyText()">Copy</button>
                    <button type="button" id="download" class="form-submit-button" style="width:fit-content;padding-top: 0.5vh;" onclick="download('#p1')">Download</button>
                    </div>
                </td>
            </tr>
-->
        </table>
        <br>
        <script>
            function copyText() {
                var Text = document.getElementById("p1");
                Text.select();
                navigator.clipboard.writeText(Text.value);
            }
            
            function onYoutubeClick(){
                document.getElementById("customText").innerHTML="Enter YouTube Link";
                document.getElementById("myLink").type="text";
              document.querySelector(".popup").classList.add("active");
            }
            function onArticleClick(){
             document.getElementById("customText").innerHTML="Enter Article Link";
                document.getElementById("myLink").type="text";
              document.querySelector(".popup").classList.add("active");
            }
            function onLocalClick(){
             document.getElementById("customText").innerHTML="Select Local File";
                document.getElementById("myLink").type="file";
              document.querySelector(".popup").classList.add("active");
            }
            function submitFun(){
//                sendYtLink();
                document.querySelector(".popup").classList.remove("active");
            }
//            function sendYtLink(){
//                let ytLink = document.getElementById("myLink").value;
//                console.log(ytLink);
//                const request = new XMLHttpRequest();
//                request.open('POST', '/ProcessUserInfo/${JSON.stringify(ytLink)}');
//                request.send();
//            }
            document.querySelector(".popup .close-btn").addEventListener("click",function(){
              document.querySelector(".popup").classList.remove("active");
            });
            
        </script>

    </body>
</html>